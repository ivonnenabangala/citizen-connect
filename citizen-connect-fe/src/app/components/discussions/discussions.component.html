<!-- <div class="container" *ngFor="let discussion of discussions">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Question:</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            {{discussion.question}}
        </mat-card-content>
        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="example-form">          
            <mat-form-field class="example-full-width" style="width: 100%;">
              <mat-label>Voice a comment</mat-label>
              <textarea 
              formControlName="opinion" 
              type="text"
              matInput 
              placeholder="Ex. It makes me feel..."
              rows="5"
              ></textarea>
            </mat-form-field>
              <button mat-raised-button class="btn">Submit</button>
          </form>
    </mat-card>
</div> -->
<div class="container" *ngFor="let discussion of discussions">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Question:</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            {{ discussion.question }}
        </mat-card-content>
        <form [formGroup]="forms[discussion.topicId]" (ngSubmit)="onSubmit(discussion.topicId)" class="example-form">          
            <mat-form-field class="example-full-width" style="width: 100%;">
              <mat-label>Voice a comment</mat-label>
              <textarea 
              formControlName="opinion" 
              matInput 
              placeholder="Ex. It makes me feel..."
              rows="5">
              </textarea>
            </mat-form-field>
            <button mat-raised-button class="btn" [disabled]="forms[discussion.topicId].invalid">Submit</button>
        </form>
    </mat-card>
</div>


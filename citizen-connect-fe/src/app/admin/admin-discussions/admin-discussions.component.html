<div class="container">
    <div *ngIf="activeView === 'manage'">
      <h2>Manage Discussions</h2>
      <div  *ngIf="discussions.length > 0">
        <div class="discussions" *ngFor="let discussion of discussions">

            <mat-card>
                <mat-card-content>
                    {{discussion.question}}
                </mat-card-content>
                <mat-card-footer>
                    <button class="btn" type="button" (click)="deleteTopic(discussion)">Close</button>
                </mat-card-footer>
            </mat-card>
        </div>
      </div>
      <!-- <mat-list role="list" *ngIf="discussions.length > 0">
        <mat-list-item *ngFor="let discussion of discussions" role="listitem">
          <div class="d-flex w-100 justify-content-between align-items-center">
            <span>{{ discussion.question.split(' ').slice(0, 20).join(' ') }}...</span>
            <span class="fw-bold actions">
              <mat-icon mat-list-icon (click)="deleteTopic(discussion)">delete</mat-icon>
            </span>
          </div>
        </mat-list-item>
      </mat-list> -->
      <div *ngIf="discussions.length === 0" class="text-center mt-4">
        <p>No Topics available</p>
      </div>
    </div>
  
  
    <div class="d-flex justify-content-center align-items-center" *ngIf="activeView === 'add'">
      <mat-card class="card">
        <mat-card-header>
          <mat-card-title>
            Add New Topic
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="form" (ngSubmit)="saveTopic()">
                <mat-form-field class="w-100 mb-3">
                  <mat-label>Discussion topic</mat-label>
                  <textarea rows="5" matInput formControlName="question" placeholder="Enter poll question"></textarea>
                  <mat-error *ngIf="form.controls['question'].invalid">Topic is required</mat-error>
                </mat-form-field>
          
                <div class="d-flex justify-content-end">
                  <button class="cancel" [routerLink]="['/admin/discussions']" [queryParams]="{view: 'manage'}">Cancel</button>
                  <button class="save" type="submit" [disabled]="form.invalid">Save Topic</button>
                </div>
              </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>